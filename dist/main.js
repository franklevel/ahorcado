(()=>{const e={wordList:[{letters:"pelota",hidden:"elta"},{letters:"edificio",hidden:"eifo"},{letters:"martillo",hidden:"mario"},{letters:"bicicleta",hidden:"biieta"},{letters:"automovil",hidden:"utoovi"},{letters:"perilla",hidden:"perlla"},{letters:"hornilla",hidden:"hrlla"},{letters:"reloj",hidden:"eoj"},{letters:"lampara",hidden:"apara"},{letters:"chaqueta",hidden:"aquta"},{letters:"llavero",hidden:"aver"}],init:function(){console.info("Game started!");const e=document.querySelector("#head"),t=document.querySelector("#right-arm"),i=document.querySelector("#body"),s=document.querySelector("#right-leg"),r=document.querySelector("#left-arm"),n=document.querySelector("#left-leg");e.classList.add("invisible"),i.classList.add("invisible"),t.classList.add("invisible"),s.classList.add("invisible"),r.classList.add("invisible"),n.classList.add("invisible"),this.loader=document.querySelector(".hangman-loader"),this.initLoad(),this.index=this.getIndex(),this.word=this.wordList[this.index],this.loser=0,this.winner=0,this.key=null,this.maximumAttempts=5,this.wordText=document.getElementById("word"),this.writeWord(),this.writeKeyword(),this.attachKeyEvent(),this.attachChangeWordEvent(),setTimeout((()=>this.endLoad()),999)},initLoad:function(){this.loader.classList.add("is-active")},endLoad:function(){this.loader.classList.remove("is-active")},attachKeyEvent:function(){document.querySelectorAll(".key").forEach((e=>{e.addEventListener("click",(e=>{this.pressKey(e.target)}))}))},attachChangeWordEvent:function(){document.querySelector(".change-word").addEventListener("click",(function(){e.restart()}))},restart:function(){setTimeout((()=>this.init()),1500)},getIndex:function(){const e=this.wordList.length;return Math.floor(Math.random()*(e-0))+0},writeWord:function(){this.wordText.innerHTML="";for(let e in this.word.letters){let t=this.word.letters[e].toUpperCase(),i=this.word.hidden.toUpperCase().includes(t)?"invisible":"visible";this.wordText.innerHTML+=`<span class="letter mx-2"><span class="${i}">${t}</span></span>`}},writeKeyword:function(){let e=document.querySelector(".keyboard"),t="";e.innerHTML="";for(let e=65;e<=90;e++){let i=73==e||82==e?"<br>":"",s=String.fromCharCode(e);t+=`<button class="button is-primary is-rounded key" value="${s}" ${this.word.letters.toUpperCase().includes(s)&&!this.word.hidden.toUpperCase().includes(s)?"disabled":""} >${s}</button>${i}`}e.innerHTML=t},pressKey:function(e){e.setAttribute("disabled","disabled");const t=document.querySelectorAll(".letter span");this.findLetter(e.value).forEach((e=>{t[e].classList.remove("invisible"),t[e].classList.add("visible")})),this.key=e,this.checkWord()},findLetter:function(e){return this.word.letters.toUpperCase().split("").map(((t,i)=>t===e.toUpperCase()?i:-1)).filter((e=>-1!==e))},checkWord:function(){const e=document.querySelectorAll(".letter span.visible"),t=this.word.letters;e.length>=t.length&&(console.info("You are the winner"),this.restart()),this.key&&!this.word.letters.toUpperCase().includes(this.key.value)&&(this.loser++,document.querySelector([void 0,"#head","#body","#right-arm","#right-leg","#left-arm","#left-leg"][this.loser]).classList.remove("invisible"),this.loser>this.maximumAttempts&&(alert("Your lost!"),this.restart()))}};e.init()})();